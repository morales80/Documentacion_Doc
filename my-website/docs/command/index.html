<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-command" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">command | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Lu15R.github.io/Documentacion_Doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Lu15R.github.io/Documentacion_Doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Lu15R.github.io/Documentacion_Doc/docs/command"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="command | My Site"><meta data-rh="true" name="description" content="También llamado: Comando, Orden, Action, Transaction"><meta data-rh="true" property="og:description" content="También llamado: Comando, Orden, Action, Transaction"><link data-rh="true" rel="icon" href="/Documentacion_Doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Lu15R.github.io/Documentacion_Doc/docs/command"><link data-rh="true" rel="alternate" href="https://Lu15R.github.io/Documentacion_Doc/docs/command" hreflang="en"><link data-rh="true" rel="alternate" href="https://Lu15R.github.io/Documentacion_Doc/docs/command" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Documentacion_Doc/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Documentacion_Doc/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/Documentacion_Doc/assets/css/styles.a479dc71.css">
<script src="/Documentacion_Doc/assets/js/runtime~main.cc76f16d.js" defer="defer"></script>
<script src="/Documentacion_Doc/assets/js/main.ab63072f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Documentacion_Doc/"><div class="navbar__logo"><img src="/Documentacion_Doc/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Documentacion_Doc/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Documentacion_Doc/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/Documentacion_Doc/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/intro">PATRONES DE DISEÑO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/Builder">Builder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/Factory_Method">Factory Method</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/State">State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/TemplateMethod">Template Method</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/Visitor">Visitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/chain_off_responsability">chain_off_responsability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Documentacion_Doc/docs/command">command</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/observer">observer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/singleton">Singleton</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/strategy">strategy</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Documentacion_Doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">command</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>command</h1></header><p><strong>También llamado:</strong> <em>Comando, Orden, Action, Transaction</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="propósito">Propósito<a href="#propósito" class="hash-link" aria-label="Direct link to Propósito" title="Direct link to Propósito">​</a></h3>
<p><em>El patrón de diseño <em><strong>Command</strong></em> pertenece a la categoría de comportamiento y consiste en encapsular una solicitud en un objeto independiente que almacena toda la información necesaria para ejecutarla. Esto permite que las solicitudes se puedan tratar como parámetros, programar su ejecución para más tarde o encolarlas, además de facilitar el manejo de operaciones que no pueden ejecutarse de inmediato.</em></p>
<p><img decoding="async" loading="lazy" src="https://i.ytimg.com/vi/RxwgQuNjuGg/hqdefault.jpg" alt="command" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="analogía-en-el-mundo-real">Analogía en el mundo real<a href="#analogía-en-el-mundo-real" class="hash-link" aria-label="Direct link to Analogía en el mundo real" title="Direct link to Analogía en el mundo real">​</a></h2>
<p><em>Imagina que decides contratar a un servicio de mensajería para entregar un paquete. Llamas a la empresa y explicas lo que necesitas: la dirección de entrega, el nombre del destinatario y cualquier instrucción especial. El operador anota esta información y genera una orden de servicio.</em></p>
<p><em>La orden se coloca en la lista de tareas del día, esperando a que un mensajero esté disponible. Cuando llega el momento, el mensajero recoge el paquete junto con la orden, la lee y realiza la entrega siguiendo las instrucciones.</em></p>
<p><em>La orden de servicio actúa como un comando, ya que contiene toda la información necesaria para completar la tarea. Esto permite que la entrega se realice de manera eficiente sin necesidad de que el mensajero tenga que contactarte constantemente para pedir aclaraciones.</em></p>
<p><img decoding="async" loading="lazy" src="https://static.vecteezy.com/system/resources/previews/007/112/283/non_2x/young-man-delivered-the-parcel-courier-with-a-cardboard-box-parcel-delivery-service-photo.jpg" alt="Analogía" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="estructura">Estructura<a href="#estructura" class="hash-link" aria-label="Direct link to Estructura" title="Direct link to Estructura">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://refactoring.guru/images/patterns/diagrams/command/structure-indexed.png?id=95529d7282dc7bc1c5bc443423b1cf4f" alt="Estructura" class="img_ev3q"></p>
<ol>
<li>
<p><em>La clase <em><strong>Emisora</strong></em> (o invocadora) es quien se encarga de iniciar las acciones solicitadas. En lugar de ejecutar la acción directamente, esta clase mantiene una referencia a un objeto de comando que contiene los detalles de la solicitud. Cuando se necesita realizar la acción, la emisora simplemente activa el comando, delegando la tarea. Es importante destacar que la emisora no se encarga de crear los comandos; en su lugar, estos suelen ser proporcionados por el cliente, por ejemplo, al pasarle el comando ya preparado como un parámetro en el constructor.</em></p>
</li>
<li>
<p><em>La interfaz <em><strong>Comando</strong></em> generalmente define un único método cuya función es ejecutar la acción correspondiente al comando. Este método sirve como punto de entrada para llevar a cabo la tarea asociada al comando.</em></p>
</li>
<li>
<p><em>Los <em><strong>Comandos Concretos</strong></em> son responsables de representar diferentes tipos de solicitudes específicas. No realizan directamente las acciones, sino que delegan la ejecución al objeto encargado de la lógica de negocio. Sin embargo, en algunos casos, para simplificar el diseño, estas clases pueden combinarse con la lógica que ejecutan.Los datos necesarios para ejecutar una solicitud se pueden almacenar como atributos en el comando concreto, y para garantizar que no cambien, estos atributos suelen inicializarse únicamente a través del constructor, haciendo que el comando sea inmutable.</em></p>
</li>
<li>
<p><em>La clase <em><strong>Receptora</strong></em> es la que contiene la lógica principal para ejecutar las tareas. Prácticamente cualquier objeto puede desempeñar el papel de receptor. En este patrón, los comandos se encargan principalmente de manejar los detalles de cómo se envía la solicitud al receptor, pero es este último quien realiza el trabajo real.</em></p>
</li>
<li>
<p><em>El <em><strong>Cliente</strong></em> crea y configura los objetos de comando concretos. El cliente debe pasar todos los parámetros de la solicitud, incluyendo una instancia del receptor, dentro del constructor del comando. Después de eso, el comando resultante puede asociarse con uno o varios emisores.</em></p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pseudocódigo">Pseudocódigo<a href="#pseudocódigo" class="hash-link" aria-label="Direct link to Pseudocódigo" title="Direct link to Pseudocódigo">​</a></h2>
<p><em>En este ejemplo, el patrón <em><strong>Command</strong></em> ayuda a rastrear el historial de operaciones ejecutadas y hace posible revertir una operación si es necesario.</em></p>
<p><img decoding="async" loading="lazy" src="https://refactoring.guru/images/patterns/diagrams/command/example.png?id=1f42c8395fe54d0e409026b91881e2a0" alt="Operaciones que no se pueden realizar en un editor de texto." class="img_ev3q"></p>
<p><em>Los comandos que modifican el estado del editor, como cortar y pegar, primero guardan una copia del estado actual antes de ejecutar la acción. Esto asegura que, si es necesario deshacer el cambio, se pueda restaurar fácilmente el estado anterior. Una vez ejecutado, el comando se almacena en un historial (usualmente una pila) junto con la copia del estado del editor en ese momento. Si el usuario decide revertir una acción, la aplicación simplemente toma el último comando del historial y usa la copia de seguridad para restaurar el estado original.</em></p>
<p><em>El cliente, como los elementos de la interfaz gráfica o el historial de comandos, no depende de implementaciones específicas de comandos. En su lugar, interactúa con ellos a través de una interfaz común. Esto permite agregar nuevos comandos a la aplicación sin afectar el código existente, manteniendo el diseño flexible y fácil de extender.</em></p>
<div class="language-// codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-// codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// comandos concretos.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract class Command is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected field app: Application</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected field editor: Editor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected field backup: text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor Command(app: Application, editor: Editor) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.app = app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.editor = editor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Realiza una copia de seguridad del estado del editor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method saveBackup() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        backup = editor.text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Restaura el estado del editor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method undo() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        editor.text = backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El método de ejecución se declara abstracto para forzar a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // todos los comandos concretos a proporcionar sus propias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // implementaciones. El método debe devolver verdadero o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // falso dependiendo de si el comando cambia el estado del</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // editor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    abstract method execute()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Los comandos concretos van aquí.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class CopyCommand extends Command is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El comando copiar no se guarda en el historial ya que no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // cambia el estado del editor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method execute() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        app.clipboard = editor.getSelection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class CutCommand extends Command is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El comando cortar no cambia el estado del editor, por lo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // que debe guardarse en el historial. Y se guardará siempre</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // y cuando el método devuelva verdadero.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method execute() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        saveBackup()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        app.clipboard = editor.getSelection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        editor.deleteSelection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PasteCommand extends Command is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method execute() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        saveBackup()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        editor.replaceSelection(app.clipboard)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// La operación deshacer también es un comando.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class UndoCommand extends Command is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method execute() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        app.undo()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// El historial global de comandos tan solo es una pila.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class CommandHistory is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private field history: array of Command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El último dentro...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method push(c: Command) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Empuja el comando al final de la matriz del</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // historial.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...el primero fuera.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method pop():Command is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Obtiene el comando más reciente del historial.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// La clase editora tiene operaciones reales de edición de</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// texto. Juega el papel de un receptor: todos los comandos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// acaban delegando la ejecución a los métodos del editor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Editor is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field text: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method getSelection() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Devuelve el texto seleccionado.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method deleteSelection() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Borra el texto seleccionado.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method replaceSelection(text) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Inserta los contenidos del portapapeles en la</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // posición actual.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// La clase Aplicación establece relaciones entre objetos. Actúa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// como un emisor: cuando algo debe hacerse, crea un objeto de</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// comando y lo ejecuta.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Application is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field clipboard: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field editors: array of Editors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field activeEditor: Editor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field history: CommandHistory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El código que asigna comandos a objetos UI puede tener</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // este aspecto.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method createUI() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        copy = function() { executeCommand(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new CopyCommand(this, activeEditor)) }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        copyButton.setCommand(copy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shortcuts.onKeyPress(&quot;Ctrl+C&quot;, copy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cut = function() { executeCommand(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new CutCommand(this, activeEditor)) }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cutButton.setCommand(cut)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shortcuts.onKeyPress(&quot;Ctrl+X&quot;, cut)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        paste = function() { executeCommand(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new PasteCommand(this, activeEditor)) }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pasteButton.setCommand(paste)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shortcuts.onKeyPress(&quot;Ctrl+V&quot;, paste)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        undo = function() { executeCommand(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new UndoCommand(this, activeEditor)) }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        undoButton.setCommand(undo)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        shortcuts.onKeyPress(&quot;Ctrl+Z&quot;, undo)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Ejecuta un comando y comprueba si debe añadirse al</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // historial.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method executeCommand(command) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (command.execute())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            history.push(command)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Toma el comando más reciente del historial y ejecuta su</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // método deshacer. Observa que no conocemos la clase de ese</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // comando. Pero no tenemos por qué, ya que el comando sabe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // cómo deshacer su propia acción.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method undo() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        command = history.pop()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (command != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            command.undo()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aplicabilidad">Aplicabilidad<a href="#aplicabilidad" class="hash-link" aria-label="Direct link to Aplicabilidad" title="Direct link to Aplicabilidad">​</a></h2>
<ul>
<li>
<p><em>Utiliza el patrón Command cuando quieras parametrizar objetos con operaciones.</em></p>
</li>
<li>
<p><em>Utiliza el patrón Command cuando quieras poner operaciones en cola, programar su ejecución, o ejecutarlas de forma remota.</em></p>
</li>
<li>
<p><em>Utiliza el patrón Command cuando quieras implementar operaciones reversibles.</em></p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cómo-implementarlo">Cómo implementarlo<a href="#cómo-implementarlo" class="hash-link" aria-label="Direct link to Cómo implementarlo" title="Direct link to Cómo implementarlo">​</a></h2>
<ol>
<li>
<p><em>Declara la interfaz de comando con un único método de ejecución.</em></p>
</li>
<li>
<p><em>Empieza extrayendo solicitudes y poniéndolas dentro de clases concretas de comando que implementen la interfaz de comando. Cada clase debe contar con un grupo de campos para almacenar los argumentos de las solicitudes junto con referencias al objeto receptor. Todos estos valores deben inicializarse a través del constructor del comando.</em></p>
</li>
<li>
<p><em>Identifica clases que actúen como emisoras. Añade los campos para almacenar comandos dentro de estas clases. Las emisoras deberán comunicarse con sus comandos tan solo a través de la interfaz de comando. Normalmente las emisoras no crean objetos de comando por su cuenta, sino que los obtienen del código cliente.</em></p>
</li>
<li>
<p><em>Cambia las emisoras de forma que ejecuten el comando en lugar de enviar directamente una solicitud al receptor.</em></p>
</li>
<li>
<p><em>El cliente debe inicializar objetos en el siguiente orden:</em></p>
</li>
</ol>
<ul>
<li>Crear receptores.</li>
<li>Crear comandos y asociarlos con receptores si es necesario.</li>
<li>Crear emisores y asociarlos con comandos específicos.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pros">Pros<a href="#pros" class="hash-link" aria-label="Direct link to Pros" title="Direct link to Pros">​</a></h2>
<ul>
<li>
<p><em>Principio de responsabilidad única. Puedes desacoplar las clases que invocan operaciones de las que realizan esas operaciones.</em></p>
</li>
<li>
<p>Principio de abierto/cerrado. Puedes introducir nuevos comandos en la aplicación sin descomponer el código cliente existente._</p>
</li>
<li>
<p><em>Puedes implementar deshacer/rehacer.</em></p>
</li>
<li>
<p><em>Puedes implementar la ejecución diferida de operaciones.</em></p>
</li>
<li>
<p><em>Puedes ensamblar un grupo de comandos simples para crear uno complejo.</em></p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://www.livebeep.com/web/wp1/wp-content/uploads/2023/01/Diseno-sin-titulo-33.jpg" alt="ventajas" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contras">Contras<a href="#contras" class="hash-link" aria-label="Direct link to Contras" title="Direct link to Contras">​</a></h2>
<ul>
<li><em>El código puede complicarse, ya que estás introduciendo una nueva capa entre emisores y receptores.</em></li>
</ul>
<p><img decoding="async" loading="lazy" src="https://th.bing.com/th/id/OIP.e_suX-k3dtM20PJ07fwNfQHaHa?rs=1&amp;pid=ImgDetMain" alt="desventajas" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/command.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Documentacion_Doc/docs/chain_off_responsability"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">chain_off_responsability</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Documentacion_Doc/docs/observer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">observer</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#propósito" class="table-of-contents__link toc-highlight">Propósito</a></li><li><a href="#analogía-en-el-mundo-real" class="table-of-contents__link toc-highlight">Analogía en el mundo real</a></li><li><a href="#estructura" class="table-of-contents__link toc-highlight">Estructura</a></li><li><a href="#pseudocódigo" class="table-of-contents__link toc-highlight">Pseudocódigo</a></li><li><a href="#aplicabilidad" class="table-of-contents__link toc-highlight">Aplicabilidad</a></li><li><a href="#cómo-implementarlo" class="table-of-contents__link toc-highlight">Cómo implementarlo</a></li><li><a href="#pros" class="table-of-contents__link toc-highlight">Pros</a></li><li><a href="#contras" class="table-of-contents__link toc-highlight">Contras</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Documentacion_Doc/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Documentacion_Doc/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>