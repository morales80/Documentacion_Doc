<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-State" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">State | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Lu15R.github.io/Documentacion_Doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Lu15R.github.io/Documentacion_Doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Lu15R.github.io/Documentacion_Doc/docs/State"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="State | My Site"><meta data-rh="true" name="description" content="State es un patrón de diseño de comportamiento que permite a un objeto alterar su comportamiento cuando su estado interno cambia. Parece como si el objeto cambiara su clase."><meta data-rh="true" property="og:description" content="State es un patrón de diseño de comportamiento que permite a un objeto alterar su comportamiento cuando su estado interno cambia. Parece como si el objeto cambiara su clase."><link data-rh="true" rel="icon" href="/Documentacion_Doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Lu15R.github.io/Documentacion_Doc/docs/State"><link data-rh="true" rel="alternate" href="https://Lu15R.github.io/Documentacion_Doc/docs/State" hreflang="en"><link data-rh="true" rel="alternate" href="https://Lu15R.github.io/Documentacion_Doc/docs/State" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Documentacion_Doc/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Documentacion_Doc/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/Documentacion_Doc/assets/css/styles.a479dc71.css">
<script src="/Documentacion_Doc/assets/js/runtime~main.cc76f16d.js" defer="defer"></script>
<script src="/Documentacion_Doc/assets/js/main.ab63072f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Documentacion_Doc/"><div class="navbar__logo"><img src="/Documentacion_Doc/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Documentacion_Doc/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Documentacion_Doc/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/Documentacion_Doc/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/intro">PATRONES DE DISEÑO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/Builder">Builder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/Factory_Method">Factory Method</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Documentacion_Doc/docs/State">State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/TemplateMethod">Template Method</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/Visitor">Visitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/chain_off_responsability">chain_off_responsability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/command">command</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/observer">observer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/singleton">Singleton</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Documentacion_Doc/docs/strategy">strategy</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Documentacion_Doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">State</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>State</h1></header>
<p>State es un patrón de diseño de comportamiento que permite a un objeto alterar su comportamiento cuando su estado interno cambia. Parece como si el objeto cambiara su clase.</p>
<p><img decoding="async" loading="lazy" src="https://refactoring.guru/images/patterns/content/state/state-es.png?id=03f2a3a86f4b58cc21b4c8c152d6c0ec" alt="Imagen de ejemplo" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="propósito">Propósito<a href="#propósito" class="hash-link" aria-label="Direct link to Propósito" title="Direct link to Propósito">​</a></h2>
<p>Es gestionar el estado de un objeto y cómo afecta su comportamiento de una manera más flexible y organizada. En lugar de tener código condicional en el objeto que maneja su estado, el patrón State permite delegar cada estado a una clase propia que encapsula el comportamiento correspondiente a ese estado.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="características">Características<a href="#características" class="hash-link" aria-label="Direct link to Características" title="Direct link to Características">​</a></h3>
<ul>
<li>Permite modificar el comportamiento de un objeto según su estado.</li>
<li>Desacopla el comportamiento del objeto de su implementación.</li>
<li>Extrae los comportamientos relacionados con el estado y los coloca en clases de estado separadas.</li>
<li>Permite cambiar el comportamiento del objeto en tiempo de ejecución.</li>
<li>Obliga al objeto original a delegar el trabajo a una instancia de las clases de estado.git</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="estas-son-algunas-ventajas-y-desventajas-de-nuestro-patrón-de-diseño-de-state">Estas son algunas ventajas y desventajas de nuestro patrón de diseño de State<a href="#estas-son-algunas-ventajas-y-desventajas-de-nuestro-patrón-de-diseño-de-state" class="hash-link" aria-label="Direct link to Estas son algunas ventajas y desventajas de nuestro patrón de diseño de State" title="Direct link to Estas son algunas ventajas y desventajas de nuestro patrón de diseño de State">​</a></h3>
<table><thead><tr><th><strong>Ventajas</strong></th><th><strong>Desventajas</strong></th></tr></thead><tbody><tr><td><strong>Mejora la legibilidad</strong>: Al encapsular los estados en clases separadas, el código es más fácil de leer y entender.</td><td><strong>Complejidad adicional</strong>: La implementación del patrón puede agregar complejidad extra al sistema, especialmente si hay muchos estados.</td></tr><tr><td><strong>Facilita la extensión</strong>: Nuevos estados pueden agregarse sin modificar el código existente, lo que sigue el principio de abierto/cerrado.</td><td><strong>Demasiados objetos</strong>: En sistemas con muchos estados, puede haber una proliferación de clases, lo que lleva a un aumento en el número de objetos.</td></tr><tr><td><strong>Reduce el acoplamiento</strong>: Cada estado se maneja de forma independiente, lo que reduce el acoplamiento entre clases.</td><td><strong>Posible confusión</strong>: Puede ser difícil gestionar la transición entre los diferentes estados si no se implementa correctamente.</td></tr><tr><td><strong>Permite cambios dinámicos de estado</strong>: El patrón facilita la transición entre diferentes estados en tiempo de ejecución, permitiendo un comportamiento flexible.</td><td><strong>Sobrecarga de mantenimiento</strong>: Si no se controla bien, la cantidad de estados y transiciones puede generar una sobrecarga en el mantenimiento del sistema.</td></tr><tr><td><strong>Facilita la depuración</strong>: Al tener clases que representan estados, se puede aislar más fácilmente el comportamiento en cada estado.</td><td><strong>Sobrecarga en pequeños proyectos</strong>: En proyectos simples, el patrón puede ser innecesario, agregando una complejidad innecesaria.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="analogía-del-patrón-state">Analogía del Patrón State<a href="#analogía-del-patrón-state" class="hash-link" aria-label="Direct link to Analogía del Patrón State" title="Direct link to Analogía del Patrón State">​</a></h3>
<p>Imagina que tienes una máquina expendedora de bebidas. Esta máquina tiene varios estados: &quot;Esperando Moneda&quot;, &quot;Esperando Selección de Bebida&quot;, <strong>&quot;Entregando Bebida&quot;, y &quot;Vendiendo&quot;.</strong> Cada uno de estos estados tiene comportamientos diferentes y depende de la acción del usuario.</p>
<ul>
<li><strong>Esperando Moneda:</strong> La máquina está esperando que pongas una moneda. En este estado, la máquina no puede entregar bebidas ni hacer nada más. Solo espera una acción.</li>
<li><strong>Esperando Selección de Bebida:</strong> Una vez que la máquina recibe la moneda, cambia a este estado, donde ahora puede tomar tu selección. En este estado, puedes elegir entre diferentes opciones de bebidas.</li>
<li><strong>Entregando Bebida:</strong> Después de que haces la selección, la máquina pasa a este estado y entrega la bebida que elegiste.</li>
<li><strong>Vendiendo:</strong> Si la máquina está fuera de servicio, se cambia a este estado donde no puedes usarla hasta que se repare.</li>
</ul>
<p>Cada estado es responsable de una parte específica de la máquina, y puede cambiar a otro estado dependiendo de las interacciones del usuario. La máquina no intenta hacer todo al mismo tiempo, sino que cambia de estado para gestionar de forma eficiente su funcionamiento.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="código-de-implementación">Código de Implementación<a href="#código-de-implementación" class="hash-link" aria-label="Direct link to Código de Implementación" title="Direct link to Código de Implementación">​</a></h3>
<p>En este ejemplo, el patrón State permite a los mismos controles del reproductor de medios comportarse de forma diferente, dependiendo del estado actual de reproducción.</p>
<p><img decoding="async" loading="lazy" src="https://refactoring.guru/images/patterns/diagrams/state/example.png?id=1ffdb109b3ebb85d223b9d1651d2034c" alt="Imagen de ejemplo" class="img_ev3q"></p>
<p><em>Ejemplo de cambio del comportamiento de un objeto con objetos de estado.</em></p>
<p>El objeto principal del reproductor siempre está vinculado a un objeto de estado que realiza la mayor parte del trabajo del reproductor. Algunas acciones sustituyen el objeto de estado actual del reproductor por otro, lo cual cambia la forma en la que el reproductor reacciona a las interacciones del usuario.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// La clase ReproductordeAudio actúa como un contexto. También</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// mantiene una referencia a una instancia de una de las clases</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// estado que representa el estado actual del reproductor de</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// audio.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class AudioPlayer is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field state: State</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field UI, volume, playlist, currentSong</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor AudioPlayer() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.state = new ReadyState(this)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // El contexto delega la gestión de entradas del usuario</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // a un objeto de estado. Naturalmente, el resultado</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // depende del estado que esté activo ahora, ya que cada</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // estado puede gestionar las entradas de manera</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // diferente.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UI = new UserInterface()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UI.lockButton.onClick(this.clickLock)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UI.playButton.onClick(this.clickPlay)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UI.nextButton.onClick(this.clickNext)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UI.prevButton.onClick(this.clickPrevious)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Otros objetos deben ser capaces de cambiar el estado</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // activo del reproductor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method changeState(state: State) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.state = state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Los métodos UI delegan la ejecución al estado activo.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickLock() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        state.clickLock()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickPlay() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        state.clickPlay()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickNext() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        state.clickNext()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickPrevious() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        state.clickPrevious()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Un estado puede invocar algunos métodos del servicio en</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // el contexto.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method startPlayback() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method stopPlayback() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method nextSong() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method previousSong() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method fastForward(time) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method rewind(time) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// La clase estado base declara métodos que todos los estados</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// concretos deben implementar, y también proporciona una</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// referencia inversa al objeto de contexto asociado con el</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// estado. Los estados pueden utilizar la referencia inversa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// para dirigir el contexto a otro estado.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract class State is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected field player: AudioPlayer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // El contexto se pasa a sí mismo a través del constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // del estado. Esto puede ayudar al estado a extraer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // información de contexto útil si la necesita.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor State(player) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.player = player</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    abstract method clickLock()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    abstract method clickPlay()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    abstract method clickNext()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    abstract method clickPrevious()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Los estados concretos implementan varios comportamientos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// asociados a un estado del contexto.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class LockedState extends State is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Cuando desbloqueas a un jugador bloqueado, puede asumir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // uno de dos estados.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickLock() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (player.playing)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            player.changeState(new PlayingState(player))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            player.changeState(new ReadyState(player))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickPlay() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Bloqueado, no hace nada.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickNext() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Bloqueado, no hace nada.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickPrevious() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Bloqueado, no hace nada.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// También pueden disparar transiciones de estado en el</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// contexto.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ReadyState extends State is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickLock() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.changeState(new LockedState(player))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickPlay() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.startPlayback()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.changeState(new PlayingState(player))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickNext() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.nextSong()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickPrevious() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.previousSong()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PlayingState extends State is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickLock() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.changeState(new LockedState(player))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickPlay() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.stopPlayback()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.changeState(new ReadyState(player))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickNext() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (event.doubleclick)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            player.nextSong()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            player.fastForward(5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method clickPrevious() is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (event.doubleclick)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            player.previous()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            player.rewind(5)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/State.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Documentacion_Doc/docs/Factory_Method"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Factory Method</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Documentacion_Doc/docs/TemplateMethod"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Template Method</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#propósito" class="table-of-contents__link toc-highlight">Propósito</a><ul><li><a href="#características" class="table-of-contents__link toc-highlight">Características</a></li><li><a href="#estas-son-algunas-ventajas-y-desventajas-de-nuestro-patrón-de-diseño-de-state" class="table-of-contents__link toc-highlight">Estas son algunas ventajas y desventajas de nuestro patrón de diseño de State</a></li><li><a href="#analogía-del-patrón-state" class="table-of-contents__link toc-highlight">Analogía del Patrón State</a></li><li><a href="#código-de-implementación" class="table-of-contents__link toc-highlight">Código de Implementación</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Documentacion_Doc/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Documentacion_Doc/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>